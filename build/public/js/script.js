/*! anonymity 19-11-2016 */
function wordCount(a){return a=a.trim(),word_array=a.replace(/\r?\n|\r/g," "),word_array=word_array.replace(/\s\s+/g," "),word_array=word_array.split(" "),word_array.length}var maxSubmits=5,intervalMilliseconds=1e4,timesSubmitted=0,interval,skip=0;$(document).ready(function(){$("#input_box").on("input",function(){var a=wordCount($("#input_box").val()),b=$("#input_box").val().split("").length;$("#wordcount").text("Word Count : "+a),$("#chara_count").text("Character Count : "+b),""===$("#input_box").val()&&$("#wordcount").text("Word Count : 0"),a>=100?$("#input_box").keypress(function(a){a.preventDefault()}):$("#input_box").off("keypress")}),$.get("/all?skip=0&limit=500",function(a){for(var b=0;b<a.length;b++)$(".words-body").prepend("<span style = 'color:"+a[b].color+";font-weight:"+a[b].weight+"'>"+a[b].words+"</span>");skip=500}),$("#comment").submit(function(){if(interval||(interval=setTimeout(function(){interval=void 0,timesSubmitted=0},intervalMilliseconds)),timesSubmitted++,timesSubmitted>maxSubmits)return $("#error_msg").text("Too many submit attempts!!").fadeIn("1000").fadeOut("4000"),!1;var a=wordCount($("#input_box").val()),b=$("#input_box").val().split("").length;return a>100||b>1e3?($("#error_msg").text("You exceed 100 words or 1000 characters"),!1):($(this).ajaxSubmit({error:function(a){console.log(a.status)},success:function(a){console.log(a),$(".words-body").prepend("<span style = 'color:"+a.color+";font-weight:"+a.weight+"'>"+a.words+"</span>")}}),!1)});$(window).scroll(function(a){$(window).scrollTop()+$(window).height()==$(document).height()&&$.get("/all?skip="+skip+"&limit=500",function(a){for(var b=0;b<a.length;b++)$(".words-body").prepend("<span style = 'color:"+a[b].color+";font-weight:"+a[b].weight+"'>"+a[b].words+"</span>");skip+=500})})});